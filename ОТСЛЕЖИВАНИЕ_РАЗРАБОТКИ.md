# Отслеживание разработки проекта "Карта науки"

## 12 января 2025

### Проблемы и их решения:

1. **Проблема с температурой графа**
   - Пользователь: "температура вечно 1000"
   - Решение: Исправлена логика охлаждения в backend Graph Service
   - Добавлено адаптивное охлаждение в зависимости от размера графа

2. **Проблема с интерактивностью графа**
   - Пользователь: "граф на фронте не показывается", "завис"
   - Решение: Переработан GraphCanvas с использованием D3.js
   - Добавлена полная интерактивность: перетаскивание, зум, панорамирование

3. **Проблема с перетаскиванием узлов**
   - Пользователь: "когда я передвигаю вершину с несколькими связями, то вершины с 1 связью тоже расстягиваются"
   - Решение: Реализованы адаптивные силы в D3.js симуляции
   - Узлы с одной связью имеют меньшую силу притяжения (0.3x) и отталкивания (0.5x)

4. **Проблема с кластеризацией**
   - Пользователь: "нужна кластеризация и иерархия"
   - Решение: Создана система кластеризации с иерархической структурой
   - Пользователь: "отмени" - изменения отменены, возвращен простой граф

### Технические изменения:

- Создан интерактивный GraphCanvas с D3.js
- Реализована адаптивная физика для узлов с разным количеством связей
- Добавлены компоненты: SearchBar, StatsPanel, ControlsPanel
- Упрощена архитектура: убраны избыточные зависимости
- Создан API Gateway и Graph Service с простыми эндпоинтами
- Добавлены тестовые данные: 7 узлов, 7 связей

### Текущее состояние:
- Frontend: http://localhost:3000 - работает
- API Gateway: http://localhost:3001 - работает  
- Graph Service: http://localhost:3002 - работает
- Граф полностью интерактивен, проблема с "растягиванием" решена
